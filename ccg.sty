%%%%%% CCG stuff by B. Hoffman, M. Steedman, and J. Baldridge
\newcommand{\bs}{\ensuremath{\backslash}}

\newcommand{\cat}[1]{\textsf{#1}}

%\newcommand{\Tr}{{\rm T}}

\newcommand{\Bc}{\ensuremath{\mathbf{B}}}
\newcommand{\Tc}{\ensuremath{\mathbf{T}}}
\newcommand{\Sc}{\ensuremath{\mathbf{S}}}
\newcommand{\Cc}{\ensuremath{\mathbf{C}}}
\newcommand{\Gc}{\ensuremath{\mathbf{G}}} % Geach rule
\newcommand{\Zc}{\ensuremath{\mathbf{Z}}} % Jacobson's z-rule, a.k.a. unary S
\newcommand{\Mc}{\ensuremath{\mathbf{M}}} % Jacobson's m-rule or "de-Curry-ing" rule

\newcommand{\fapp}{\ensuremath{{>}}}
\newcommand{\bapp}{\ensuremath{{<}}}
\newcommand{\fbh}[1][]{\ensuremath{{>}\Bc^{#1}}}
\newcommand{\bbh}[1][]{\ensuremath{{<}\Bc^{#1}}}
\newcommand{\fbx}[1][]{\ensuremath{{>}\Bc_\times^{#1}}}
\newcommand{\bbx}[1][]{\ensuremath{{<}\Bc_\times^{#1}}}
\newcommand{\ftr}{\ensuremath{{>}\Tc}}
\newcommand{\btr}{\ensuremath{{<}\Tc}}
\newcommand{\fsh}{\ensuremath{{>}\Sc}}
\newcommand{\bsh}{\ensuremath{{<}\Sc}}
\newcommand{\fsx}{\ensuremath{{>}\Sc_\times}}
\newcommand{\bsx}{\ensuremath{{<}\Sc_\times}}

\newcommand{\bbxname}{backward crossed composition}
\newcommand{\bsxname}{backward crossed substitution}
\newcommand{\fbxname}{forward crossed composition}
\newcommand{\fbhname}{forward harmonic composition}
\newcommand{\ftrname}{forward type-raising}
\newcommand{\btrname}{backward type-raising}

% nice layout for presenting rules
\newcommand{\unaryrule}[4] {   
  \textit{#1}\\
  \ensuremath{\begin{array}{cccc} 
    #3 & \Rightarrow_{\scriptstyle #2} & #4
  \end{array}}
}

\newcommand{\unaryruleOneLine}[4] {   
  \ensuremath{\begin{array}{cccc} 
    #3 & \Rightarrow_{\scriptstyle #2} & #4
  \end{array}} \hfill \ensuremath{(#1)}
}

\newcommand{\binaryrule}[5] {   
  \textit{#1}\\
  \ensuremath{\begin{array}{cccc} 
    #3 & #4 & \Rightarrow_{\scriptstyle #2} & #5
  \end{array}} 
}

\newcommand{\binaryruleOneLine}[5] {   
  \ensuremath{\begin{array}{cccc} 
    #3 & #4 & \Rightarrow_{\scriptstyle #2} & #5
  \end{array}} \hfill \ensuremath{(#1)}
}

\newcommand{\binaryruleSimple}[3] {   
  \ensuremath{\begin{array}{cccc} 
    #1 & #2 & \Rightarrow & #3
  \end{array}} 
}

\newcommand{\ternaryruleOneLine}[6] {   
  \ensuremath{\begin{array}{cccc} 
    #3 & #4 & #5 \Rightarrow_{\scriptstyle #2} & #6
  \end{array}} \hfill \ensuremath{(#1)}
}


\newcommand{\starbind}{\makebox[0pt][l]{\raisebox{1pt}[0pt][0pt]{\makebox[1pt]{}\^}}\makebox[0.75em][l]{\raisebox{-2pt}[0pt][0pt]{*}}}
\newcommand{\rhobind}{\makebox[0pt][l]{\raisebox{3pt}[0pt][0pt]{\makebox[1pt]{}\^}}\makebox[0.75em][l]{\raisebox{0pt}[0pt][0pt]{rho}}}
%frig \mathbf for combinators to sans:
\DeclareMathAlphabet{\mathbf}{OT1}{cmss}{bx}{n}

% amazingly does #1 many c's
% CCG derivations
% arguments: #1 = no. of words, #2 = body
\newcommand{\deriv}[2]
{ %\arraycolsep=.25em
   \renewcommand{\arraystretch}{.5}
  $\begin{array}[t]{@{}*{#1}{c}}
     #2
   \end{array}$ }

% centered multicolumn, 
\newcommand{\mc}[2]
  {\multicolumn{#1}{c}{#2}}
%\newcommand{\less}{\\ \vspace{-.5ex}}
% Rules, argument #1 gives the number of columns to cover.
\newcommand{\uline}[1]
{\mc{#1}{\hrulefill} }
\newcommand{\fapply}[1]
{ \mc{#1}{\hrulefill_{>}} }
\newcommand{\bapply}[1]
{ \mc{#1}{\hrulefill_{<}} }
\newcommand{\fcomp}[1]
{ \mc{#1}{\hrulefill_{{>}\mathbf{B}}}}
\newcommand{\fxcomp}[1]
{ \mc{#1}{\hrulefill_{{>}\mathbf{B}_{\times}}}}
\newcommand{\fxcompN}[2]
{ \mc{#1}{\hrulefill_{{>}\mathbf{B}^{#2}_{\times}}}}
\newcommand{\fcomptwo}[1]
{ \mc{#1}{\hrulefill_{{>}\mathbf{B}^2}}}
\newcommand{\fxcomptwo}[1]
{ \mc{#1}{\hrulefill_{{>}\mathbf{B}_{\times}^2}}}
\newcommand{\fcompthree}[1]
{ \mc{#1}{\hrulefill_{{>}\mathbf{B}^3}}}
\newcommand{\fxcompthree}[1]
{ \mc{#1}{\hrulefill_{{>}\mathbf{B}_{\times}^3}}}
\newcommand{\bcomp}[1]
{ \mc{#1}{\hrulefill_{{<}\mathbf{B}}}}
\newcommand{\bxcomp}[1]
{ \mc{#1}{\hrulefill_{{<}\mathbf{B}_{\times}}}}
\newcommand{\bxcompN}[2]
{ \mc{#1}{\hrulefill_{{<}\mathbf{B}^{#2}_{\times}}}}
\newcommand{\bcomptwo}[1]
{ \mc{#1}{\hrulefill_{{<}\mathbf{B}^2}}}
\newcommand{\bxcomptwo}[1]
{ \mc{#1}{\hrulefill_{{<}\mathbf{B}_{\times}^2}}}
\newcommand{\bcompthree}[1]
{ \mc{#1}{\hrulefill_{{<}\mathbf{B}^3}}}
\newcommand{\bxcompthree}[1]
{ \mc{#1}{\hrulefill_{{<}\mathbf{B}_{\times}^3}}}
\newcommand{\fsubst}[1]
{ \mc{#1}{\hrulefill_{{>}\mathbf{S}}}}
\newcommand{\bsubst}[1]
{ \mc{#1}{\hrulefill_{{<}\mathbf{S}}}}
\newcommand{\fxsubst}[1]
{ \mc{#1}{\hrulefill_{{>}\mathbf{S}_{\times}}}}
\newcommand{\bxsubst}[1]
{ \mc{#1}{\hrulefill_{{<}\mathbf{S}_{\times}}}}
\newcommand{\ftype}[1]
{ \mc{#1}{\hrulefill_{{>}\mathbf{T}}}}
\newcommand{\btype}[1]
{ \mc{#1}{\hrulefill_{{<}\mathbf{T}}}}
\newcommand{\conj}[1]
{ \mc{#1}{\hrulefill_{{<}\Phi{>}}}}
\newcommand{\boundary}[1]
{ \mc{#1}{\hrulefill_{{<}\mathbf{\%}}}}
\newcommand{\asterisk}[1]
{ \mc{#1}{\hrulefill_{\mathbf{*}}}}
\newcommand{\comb}[2] % an arbitrary combinator
{ \mc{#1}{\hrulefill_{#2}}}
\newcommand{\badcomb}[2] % an inappropriate use of a combinator
{ \mc{#1}{***\hrulefill_{#2}***}}
\newcommand{\dcomp}[2] % an arbitrary dcomposition
{ \mc{#1}{\dotfill_{#2}}}
\newcommand{\unfreeze}[1]
{\mc{#1}{\hrulefill_{\mathbf{@}}}  }

\newcommand{\ul}{\uline{1}}
\newcommand{\ulines}[1]{\uline{#1}}

%\newcommand{\spreadUlines}[1]{
%  Start \setcounter{ccg_counter}{1} \whiledo{\value{ccg_counter} < #1} { Part \arabic{ccg_counter} \stepcounter{ccg_counter} }
%}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%For example:
%
%\deriv{3}{
%{\rm Mary}&{\rm prefers}& {\rm corduroy}\\
%\uline{1}& \uline{1}    & \uline{1}\\
%\it NP   &\it (S\bs NP)/NP &\it  NP\\
%         &     \fapply{2}\\
%         & \mc{2}{\it S\bs NP}\\
%\bapply{2}&\\
%\mc{2}{\it S}&
%}
%
%\deriv{5}{
%\rm Mary &\rm  requests  &\rm  and   &\rm prefers &\rm corduroy\\
%\uline{1}&\uline{1}&\uline{1}&\uline{1}&\uline{1}\\
%\it NP &\it  (S\bs NP)/NP &\it CONJ&\it  (S\bs NP)/NP&\it       NP\\
%&\conj{3}\\
%&\mc{3}{\it  (S\bs NP)/NP}\\
%&&\fapply{3}\\
%&&\mc{3}{\it S\bs NP}\\
%\bapply{4}\\
%\mc{4}{\it S}
%}
%\deriv{6}{
%\rm   Mary &\rm   prefers &\rm  and  &\rm  I &\rm     detest&\rm   corduroy\\
%\uline{1}&\uline{1}&\uline{1}&\uline{1}&\uline{1}&\uline{1}\\
%\it   NP &\it   (S\bs NP)/NP&\it CONJ&\it    NP &\it   (S\bs NP)/NP &\it  NP\\
%\ftype{1}&&&\ftype{1}\\
%\it S/(S\bs NP) &&&\it S/(S\bs NP)\\
%\fcomp{2}&&\fcomp{2}\\
%\mc{2}{\it S/NP}&& \mc{2}{\it                  S/NP}\\
%\conj{5}\\
%\mc{5}{\it                    S/NP}\\
%&&\fapply{4}\\
%&&\mc{3}{\it                                S}
%}
